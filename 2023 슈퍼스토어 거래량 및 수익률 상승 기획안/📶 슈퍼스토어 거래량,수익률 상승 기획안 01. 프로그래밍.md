## ğŸ“¶ 01. íŒ¨í‚¤ì§€ / ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„í¬íŠ¸  

  

<br>  

 

ì‚¬ìš©í•  ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¨¼ì € ì„í¬íŠ¸í•˜ê² ìŠµë‹ˆë‹¤!!  


 
```py
import pandas as pd

import matplotlib as mpl
import matplotlib.pyplot as plt
%matplotlib inline

## í•œê¸€í°íŠ¸ ì‚¬ìš© ì‹œ ê·¸ë˜í”„ì—ì„œ ë§ˆì´ë„ˆìŠ¤ ë¶€í˜¸ê°€ ê¹¨ì§€ì§€ ì•Šë„ë¡ í•´ì¤Œ
mpl.rcParams['axes.unicode_minus'] = False

## ì‹œê°í™”ë¥¼ ìœ„í•œ plotly ì„í¬íŠ¸
import plotly.graph_objects as go
import plotly.offline as pyo
pyo.init_notebook_mode()
from plotly.subplots import make_subplots

## dataetime ì²˜ë¦¬ë¥¼ ìœ„í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„í¬íŠ¸
import datetime
```  

<br>  

  

<br>  


 

## ğŸ“¶ 02. ë°ì´í„° í™•ì¸ 
 
<br>  

 
```py
d = pd.read_csv("C:\\Users\\yamingu\\Desktop\\ìŠˆí¼ìŠ¤í† ì–´ - ìƒ˜í”Œ.xls - ì£¼ë¬¸.csv")
d.head()
```  

![img1 daumcdn](https://user-images.githubusercontent.com/65170165/222937700-730b1ca8-d87c-4369-a6b0-1395b882cff1.png)  

<br>  


 
```py
d.info()
```  
```
>>

<class 'pandas.core.frame.DataFrame'>
RangeIndex: 10933 entries, 0 to 10932
Data columns (total 20 columns):
 #   Column  Non-Null Count  Dtype  
---  ------  --------------  -----  
 0   í–‰ ID    10933 non-null  int64  
 1   ì£¼ë¬¸ ID   10933 non-null  object 
 2   ì£¼ë¬¸ ë‚ ì§œ   10933 non-null  object 
 3   ë°°ì†¡ ë‚ ì§œ   10933 non-null  object 
 4   ë°°ì†¡ í˜•íƒœ   10933 non-null  object 
 5   ê³ ê° ID   10933 non-null  object 
 6   ê³ ê° ì´ë¦„   10933 non-null  object 
 7   ì„¸ê·¸ë¨¼íŠ¸    10933 non-null  object 
 8   ë„ì‹œ      10933 non-null  object 
 9   ì‹œ/ë„     10933 non-null  object 
 10  êµ­ê°€/ì§€ì—­   10933 non-null  object 
 11  ì§€ì—­      10933 non-null  object 
 12  ì œí’ˆ ID   10933 non-null  object 
 13  ë²”ì£¼      10933 non-null  object 
 14  í•˜ìœ„ ë²”ì£¼   10933 non-null  object 
 15  ì œí’ˆ ì´ë¦„   10933 non-null  object 
 16  ë§¤ì¶œ      10933 non-null  float64
 17  ìˆ˜ëŸ‰      10933 non-null  int64  
 18  í• ì¸ìœ¨     10933 non-null  float64
 19  ìˆ˜ìµ      10933 non-null  float64
dtypes: float64(3), int64(2), object(15)
memory usage: 1.7+ MB
```  

<br>  

 

ì´ 10933 ê°œì˜ ì£¼ë¬¸ IDì— ëŒ€í•œ ê±°ë˜ ë°ì´í„°ì´ë©°, ê²°ì¸¡ì¹˜ê°€ ì—†ëŠ” ë°ì´í„°ì´ê¸°ì— ë³„ë„ì˜ ì²˜ë¦¬ëŠ” í•˜ì§€ ì•Šì•„ë„ ë  ë“¯ í•©ë‹ˆë‹¤.  


ì œí’ˆ ë²”ì£¼ì— ë”°ë¥¸ ê±°ë˜ëŸ‰ê³¼ ìˆ˜ìµë¥  ì„±ì¥ì´ ëª©ì ì´ê¸° ë•Œë¬¸ì— ë²”ì£¼, ë§¤ì¶œ, ìˆ˜ìµ ì—´ì„ ì¤‘ì‹¬ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë¶„ì„í•  ê²ƒì…ë‹ˆë‹¤.  


ì œí’ˆì˜ í•˜ìœ„ ë²”ì£¼ì— ì˜í•œ ì˜í–¥ ì—­ì‹œ ìˆì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ, í•˜ìœ„ ë²”ì£¼ ì—­ì‹œ ì‚´í´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.  

<br>  


 
```py
print(d[d['ë²”ì£¼'] == 'ê°€êµ¬']['í•˜ìœ„ ë²”ì£¼'].unique())
print(d[d['ë²”ì£¼'] == 'ê¸°ìˆ ']['í•˜ìœ„ ë²”ì£¼'].unique())
print(d[d['ë²”ì£¼'] == 'ì‚¬ë¬´ìš©í’ˆ']['í•˜ìœ„ ë²”ì£¼'].unique())  
```  
```
>>

['ì‚¬ë¬´ìš© ì§‘ê¸°' 'ì˜ì' 'í…Œì´ë¸”' 'ì±…ì¥']
['ë³µì‚¬ê¸°' 'ì•¡ì„¸ì„œë¦¬' 'ì „í™”ê¸°' 'ì‚¬ë¬´ê¸°ê¸°']
['ìš©ì§€' 'ê°€ì „ ì œí’ˆ' 'ë°”ì¸ë”' 'ë ˆì´ë¸”' 'ë¯¸ìˆ ìš©í’ˆ' 'ì‚¬ë¬´ìš©í’ˆ' 'ë´‰íˆ¬' 'ë³´ê´€í•¨' 'ì ê¸ˆì¥ì¹˜']   
```  

<br>  

  

<br>   

 

## ğŸ“¶ 03. ë…„-ì›” ë³„ ìˆ˜ìµ / ê±°ë˜ëŸ‰ ì¶”ì„¸ í™•ì¸  

<br>  


 

ê° ì—°ë„ì˜ ì›”ë³„ ê±°ë˜ëŸ‰ê³¼ ìˆ˜ìµ ì´ê³„ì˜ ì¶”ì„¸ë¥¼ ì•Œì•„ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.  

<br>  

 
```py
# ë‚ ì§œ í¬í•¨ ë°ì´í„° ì¶”ì¶œ 

d_time = d[['ì£¼ë¬¸ ë‚ ì§œ', 'ìˆ˜ëŸ‰', 'ìˆ˜ìµ']]
d_time['ì£¼ë¬¸ ë‚ ì§œ'] = pd.to_datetime(d_time['ì£¼ë¬¸ ë‚ ì§œ'])
d_time['month'] = pd.DatetimeIndex(d_time['ì£¼ë¬¸ ë‚ ì§œ']).month
d_time['year'] = pd.DatetimeIndex(d_time['ì£¼ë¬¸ ë‚ ì§œ']).year

d_time = d_time.groupby(['year','month']).agg({'ìˆ˜ëŸ‰' : 'sum', 'ìˆ˜ìµ' : 'sum'}).reset_index()
d_time = d_time[['year','month', 'ìˆ˜ëŸ‰', 'ìˆ˜ìµ']].astype('str')

d_time['date'] = d_time[['year','month']].apply('-'.join, axis = 1)
d_time['date'] = pd.to_datetime(d_time['date'])
d_time['ìˆ˜ëŸ‰'] = d_time['ìˆ˜ëŸ‰'].astype('float64')
d_time['ìˆ˜ìµ'] = d_time['ìˆ˜ìµ'].astype('float64')
d_time['ìˆ˜ìµ'] = d_time['ìˆ˜ìµ'].round(1)
d_time.tail()
```  
```
>>

 	year	month	ìˆ˜ëŸ‰	ìˆ˜ìµ	date
43	2021	8	1478.0	8984.4	2021-08-01
44	2021	9	1295.0	18189.4	2021-09-01
45	2021	10	1587.0	21790.8	2021-10-01
46	2021	11	1627.0	23461.5	2021-11-01
47	2021	12	1547.0	12473.6	2021-12-01
```  

<br>  

```py
# ì‹œê°í™”

fig = make_subplots(rows=2, cols=1
                   , subplot_titles=("ë…„-ì›” ë³„ ê±°ë˜ëŸ‰", "ë…„-ì›” ë³„ ê±°ë˜ ìˆ˜ìµ"))

fig.add_trace(
    go.Scatter(
        x = d_time['date'], y = d_time['ìˆ˜ëŸ‰'], 
        marker_color = 'darkgreen', name = 'ê±°ë˜ëŸ‰'), row = 1, col = 1)

fig.add_trace(
    go.Scatter(
        x = d_time['date'], y = d_time['ìˆ˜ìµ'], 
        marker_color = 'seagreen', name = 'ê±°ë˜ ìˆ˜ìµ'), row = 2, col = 1)


# Update xaxis properties
fig.update_xaxes(title_text="ë‚ ì§œ", row = 2, col = 1)


# Update yaxis properties
fig.update_yaxes(title_text="ê±°ë˜ëŸ‰", row = 1, col = 1)
fig.update_yaxes(title_text="ê±°ë˜ ìˆ˜ìµ", row = 2, col = 1)


fig.update_layout(title = "ë‚ ì§œ ë³„ ì£¼ë¬¸ ìˆ˜ëŸ‰", barmode='relative', 
height=400, width=1000, template = 'plotly_white')

fig.show()  
```  

![img1 daumcdn](https://user-images.githubusercontent.com/65170165/222937806-00789dea-1f81-4e1c-a0ee-1c7189323ef9.png)  

<br>  

  

<br>  



 

## ğŸ“¶ 04. êµ­ê°€ ë³„ ë°˜í’ˆë¥  í™•ì¸  

<br>  


 

ë°˜í’ˆë¥ ì´ ìˆ˜ìµê³¼ ê±°ë˜ëŸ‰ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì˜ ì—¬ë¶€ë¥¼ íŒŒì•…í•˜ê¸° ìœ„í•´ ë°˜í’ˆë¥  ì—­ì‹œ íŒŒì•…í•  í•„ìš”ê°€ ìˆì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.  

<br>  


 
```py
# ë°˜í’ˆ ë°ì´í„°ì˜ ì£¼ë¬¸ ID ì—´ê³¼ ë³‘í•©í•  ìˆ˜ ìˆë„ë¡ ì£¼ë¬¸ ID í¬í•¨ ë°ì´í„° ì¶”ì¶œ
s = d[['êµ­ê°€/ì§€ì—­', 'ì£¼ë¬¸ ID']].sort_values('êµ­ê°€/ì§€ì—­')

# ë°˜í’ˆ ë°ì´í„° ì¶”ì¶œ
b = pd.read_csv("C:\\Users\\yamingu\\Desktop\\ìŠˆí¼ìŠ¤í† ì–´ - ìƒ˜í”Œ.xls - ë°˜í’ˆ ì •ë¦¬.csv")
b.head()  
```  

```
>>

 	ì£¼ë¬¸ ID	ë°˜í’ˆ
0	ID-2018-17286	ì˜ˆ
1	ID-2018-17286	ì˜ˆ
2	ID-2018-20604	ì˜ˆ
3	ID-2018-20604	ì˜ˆ
4	ID-2018-20604	ì˜ˆ
```  

<br>  

 
```py
# ì£¼ë¬¸ êµ­ê°€ ë³„ ë°˜í’ˆëŸ‰ ì¶”ì¶œì„ ìœ„í•œ forë¬¸ ìƒì„±
# ê²°ê³¼ëŠ” ë”•ì…”ë„ˆë¦¬ í˜•íƒœë¡œ ë°˜í™˜

dic_return = {}

for i in s['êµ­ê°€/ì§€ì—­'].unique():
    dic_return[i] = 0

for j in b['ì£¼ë¬¸ ID']:
    for i in s['êµ­ê°€/ì§€ì—­'].unique():
        condition = (s['êµ­ê°€/ì§€ì—­'] == i)
        for k in s[condition]['ì£¼ë¬¸ ID'].unique():
            if k == j:
                dic_return[i] += 1
            
dic_return  
```  
```
>>

{'Afghanistan': 3,
 'Australia': 129,
 'Bangladesh': 11,
 'Cambodia': 2,
 'China': 315,
 'India': 54,
 'Indonesia': 75,
 'Japan': 72,
 'Malaysia': 0,
 'Mongolia': 0,
 'Myanmar (Burma)': 3,
 'Nepal': 0,
 'New Zealand': 19,
 'Pakistan': 7,
 'Papua New Guinea': 0,
 'Philippines': 30,
 'Singapore': 21,
 'South Korea': 21,
 'Sri Lanka': 0,
 'Taiwan': 1,
 'Thailand': 15,
 'Vietnam': 7}
```  

<br>  

```py
# êµ­ê°€ ë³„ ë°˜í’ˆë¥  ê³„ì‚° ë° ë°ì´í„° ë³‘í•©ì„ ìœ„í•œ ë°ì´í„° ì „ì²˜ë¦¬

back = pd.DataFrame.from_dict([dic_return]).T.reset_index()
back = back.rename(columns = {'index':'êµ­ê°€/ì§€ì—­', 0:'ë°˜í’ˆìˆ˜ëŸ‰'})
back

amount = d.groupby('êµ­ê°€/ì§€ì—­').agg({'ìˆ˜ëŸ‰' : 'sum'}).reset_index()
amount

back_ratio = pd.merge(back, amount, on = 'êµ­ê°€/ì§€ì—­', how = 'inner')
back_ratio['ë°˜í’ˆë¹„ìœ¨'] = (back_ratio['ë°˜í’ˆìˆ˜ëŸ‰'] / back_ratio['ìˆ˜ëŸ‰'] * 100).round(1)
back_ratio = back_ratio.rename(columns = {'ìˆ˜ëŸ‰' : 'ê±°ë˜ìˆ˜ëŸ‰'})
back_ratio.head()  
```  
```
>>

 	êµ­ê°€/ì§€ì—­	ë°˜í’ˆìˆ˜ëŸ‰	ê±°ë˜ìˆ˜ëŸ‰	ë°˜í’ˆë¹„ìœ¨
0	Afghanistan	3	        228	        1.3
1	Australia	129	        10673	        1.2
2	Bangladesh	11	        680	        1.6
3	Cambodia	2	        154	        1.3
4	China	        315     	7145	        4.4
```    

<br>  

```py
# ì‹œê°í™”

fig = go.Figure()

fig.add_trace(
    go.Bar(
        x = back_ratio['êµ­ê°€/ì§€ì—­'], y = back_ratio['ë°˜í’ˆë¹„ìœ¨'], 
        marker_color = 'mediumseagreen', name = 'ê°€êµ¬', text = back_ratio['ë°˜í’ˆë¹„ìœ¨']),)


# Update xaxis properties
fig.update_xaxes(title_text="êµ­ê°€")


# Update yaxis properties
fig.update_yaxes(title_text="êµ­ê°€ ë³„ ë°˜í’ˆë¥  (%)")


fig.update_layout(title = "êµ­ê°€ ë³„ ë°˜í’ˆ ìˆ˜ëŸ‰ / êµ­ê°€ ë³„ ì´ êµ¬ë§¤ ìˆ˜ëŸ‰ (%)", 
height=500, width=1120, template = 'plotly_white', xaxis = dict(tickfont_size = 18))

fig.show()  
```  

![img1 daumcdn](https://user-images.githubusercontent.com/65170165/222937904-a4e0aa86-37bf-4bc9-8d31-90866ad69f48.png)  

<br>  


 

ë°˜í’ˆë¥ ì€ ê·¸ë ‡ê²Œ ë†’ì§€ ì•Šì€ ìˆ˜ì¹˜ë¥¼ ë³´ì—¬ì£¼ê³  ìˆê¸° ë•Œë¬¸ì—, ì œí’ˆì˜ í’ˆì§ˆì€ ê½¤ë‚˜ ìš°ìˆ˜í•  ê²ƒì´ë¼ ìƒê°í•©ë‹ˆë‹¤.  

<br>  

  

<br>  

 

## ğŸ“¶ 05. ê±°ë˜ êµ­ê°€ ë° ë²”ì£¼ì— ë”°ë¥¸ ìˆ˜ìµ ë° ê±°ë˜ ìˆ˜ëŸ‰ í™•ì¸  

<br>  


 

êµ­ê°€ ë³„ ë‘ ì§€í‘œì— ëŒ€í•œ í†µê³„ì¹˜ë¥¼ ëŒ€ëµì ìœ¼ë¡œ ì•Œì•„ë³´ê¸° ìœ„í•´ íˆíŠ¸ë§µì„ ê·¸ë ¤ë´…ì‹œë‹¤. 

ëŒ€ëµì ìœ¼ë¡œ ë‚˜ì˜¨ ê²°ê³¼ê°€ ì„œë¡œ ê°„ì˜ ìœ ì˜ë¯¸í•œ ì°¨ì´ë¥¼ ë³´ì—¬ì¤€ë‹¤ë©´, ë” ìì„¸íˆ ì‚´í´ë³¼ ìƒê°ì…ë‹ˆë‹¤.  

<br>  

 
```py
# êµ­ê°€ ë³„ ì´ ìˆ˜ìµê³¼ ì´ ê±°ë˜ëŸ‰ í™•ì¸ì„ ìœ„í•œ ë°ì´í„° ì „ì²˜ë¦¬

d_heatmap = d[['êµ­ê°€/ì§€ì—­', 'ë²”ì£¼', 'ìˆ˜ìµ', 'ìˆ˜ëŸ‰']].groupby(['êµ­ê°€/ì§€ì—­', 'ë²”ì£¼']).agg('sum')
d_heatmap = d_heatmap.reset_index('ë²”ì£¼')
d_heatmap.head()  
```  
```
>>

 	        ë²”ì£¼	    ìˆ˜ìµ	ìˆ˜ëŸ‰
êµ­ê°€/ì§€ì—­	 	 	 
Afghanistan	ê°€êµ¬	    2797.890	43
Afghanistan	ê¸°ìˆ 	    1536.720	52
Afghanistan	ì‚¬ë¬´ìš©í’ˆ    1125.690	133
Australia	ê°€êµ¬	    24698.838	2265
Australia	ê¸°ìˆ 	    47727.504	2400
```  

<br>  

```py
# ì‹œê°í™”

fig = make_subplots(rows=1, cols=2
                   , subplot_titles=("êµ­ê°€ / ì œí’ˆ ë²”ì£¼ ë³„ ìˆ˜ìµ", "êµ­ê°€ / ì œí’ˆ ë²”ì£¼ ë³„ ê±°ë˜ ìˆ˜ëŸ‰"))

fig.add_trace(
    go.Heatmap(
        x = d_heatmap.index, y = d_heatmap['ë²”ì£¼'], z = d_heatmap['ìˆ˜ìµ'],
        colorscale = 'greens'),
        row=1, col=1)

fig.add_trace(
    go.Heatmap(
        x = d_heatmap.index, y = d_heatmap['ë²”ì£¼'], z = d_heatmap['ìˆ˜ëŸ‰'],
        colorscale = 'greens'),
        row=1, col=2)

# Update xaxis properties
fig.update_xaxes(title_text="êµ­ê°€", row=1, col=1)
fig.update_xaxes(title_text="êµ­ê°€", row=1, col=2)


# Update yaxis properties
fig.update_yaxes(title_text="ì œí’ˆ ë²”ì£¼", row=1, col=1)
fig.update_yaxes(title_text="ì œí’ˆ ë²”ì£¼", row=1, col=2)

fig.update_layout(height=650, width=2000, template = 'plotly_white')

fig.show()
```  

![img1 daumcdn](https://user-images.githubusercontent.com/65170165/222937938-967f3347-ccfa-4bb9-a10f-e190055d67fc.png)  

<br>  


í•˜íŠ¸ë§µ ë¶„ì„ ê²°ê³¼, ìƒ‰ì´ ì§„í•œ ë¶€ë¶„ì€ ì£¼ìš” ëª‡ ê°œêµ­ì—ë§Œ í•´ë‹¹í•˜ëŠ” ê²ƒì„ í™•ì¸ í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.  


ì´ëŠ” ê¸°ì—…ì˜ ê±°ë˜ê°€ í•œì •ëœ êµ­ê°€ì— ì§‘ì¤‘ëœë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•˜ê¸°ì—, íƒ€ êµ­ê°€ì™€ì˜ ê±°ë˜ëŸ‰ì„ ëŠ˜ë¦¬ëŠ” ì „ëµì´ í•„ìš”í•©ë‹ˆë‹¤.  

<br>  

 

ë˜í•œ, ë²”ì£¼ ë³„ ìˆ˜ìµê³¼ ìˆ˜ëŸ‰ì˜ ìƒ‰ì´ ì„œë¡œ ë¹„ë¡€í•˜ì§€ ì•ŠëŠ” êµ­ê°€ê°€ ì¡´ì¬í•˜ì˜€ìŠµë‹ˆë‹¤.  


ì´ëŠ” ì œí’ˆì´ ë§ì´ íŒ”ë¦°ë‹¤ê³  í•´ì„œ ë§ì€ ìˆ˜ìµì„ ë¶ˆëŸ¬ì˜¤ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.  


ë”°ë¼ì„œ ì œí’ˆ ë²”ì£¼ì— ëŒ€í•œ ê³ ë ¤ë„ í•„ìš”í•  ê²ƒì…ë‹ˆë‹¤.  

<br>  

 

ì´ì—, ë³¸ ë°ì´í„°ë¥¼ í†µí•´ ë” ìì„¸íˆ ì‚´í´ë³¼ í•„ìš”ê°€ ìˆì„ ë“¯ í•©ë‹ˆë‹¤.  

<br>  

  

<br>  
 

## ğŸ“¶ 06. ë²”ì£¼ ë³„ ìˆ˜ìµë¥  ë° ê±°ë˜ëŸ‰ ë¹„ìœ¨ í™•ì¸  

<br>  


 
```py
# ë²”ì£¼ ë³„ ìˆ˜ìµë¥  ë° ê±°ë˜ëŸ‰ ë¹„ìœ¨ í•™ì¸ì„ ìœ„í•œ ë°ì´í„° ì „ì²˜ë¦¬

d_ratio = d[['ë²”ì£¼', 'ìˆ˜ìµ', 'ìˆ˜ëŸ‰']].groupby('ë²”ì£¼').agg('sum')
df = pd.DataFrame(pd.DataFrame(d_ratio[['ìˆ˜ìµ', 'ìˆ˜ëŸ‰']]).agg('sum')).T

d_ratio = d_ratio.append(df).rename(index={0: "ì´í•©"}, inplace=False)
d_ratio['ìˆ˜ìµë¥ '] = d_ratio['ìˆ˜ìµ'] / d_ratio['ìˆ˜ìµ']['ì´í•©'] * 100
d_ratio['ê±°ë˜ëŸ‰ ë¹„ìœ¨'] = d_ratio['ìˆ˜ëŸ‰'] / d_ratio['ìˆ˜ëŸ‰']['ì´í•©'] * 100
d_ratio = d_ratio.drop('ì´í•©', axis = 0).copy()
d_ratio.head()
```
```
>>

 	    ìˆ˜ìµ	  ìˆ˜ëŸ‰	        ìˆ˜ìµë¥ 	        ê±°ë˜ëŸ‰ ë¹„ìœ¨
ê°€êµ¬	    124417.5105	  9059.0	28.796725	22.083272
ê¸°ìˆ 	    202955.4660	  8949.0	46.974519	21.815124
ì‚¬ë¬´ìš©í’ˆ    104681.4025	  23014.0	24.228756	56.101604
```  

<br>  

 
```py
# ì‹œê°í™”

fig = make_subplots(rows=1, cols=2
                   , subplot_titles=("ë²”ì£¼ ë³„ ìˆ˜ìµ / ì „ì²´ ìˆ˜ìµ (%)", 
                                     "ë²”ì£¼ ë³„ ê±°ë˜ ìˆ˜ëŸ‰ / ì „ì²´ ê±°ë˜ ìˆ˜ëŸ‰ (%)"))

fig.add_trace(
    go.Bar(
        y = d_ratio.index, x = d_ratio['ìˆ˜ìµë¥ '], 
        marker_color = 'mediumseagreen', orientation='h', 
        name = 'ìˆ˜ìµë¥ ', text = d_ratio['ìˆ˜ìµë¥ '].round(1), 
        textfont = {'color' : 'white'}),
        row=1, col=1)


fig.add_trace(
    go.Bar(
        y = d_ratio.index, x = d_ratio['ê±°ë˜ëŸ‰ ë¹„ìœ¨'],
        marker_color = '#b3e4c5', orientation='h', 
        name = 'ê±°ë˜ëŸ‰ ë¹„ìœ¨', text = d_ratio['ê±°ë˜ëŸ‰ ë¹„ìœ¨'].round(1), 
        textfont = {'color' : 'black'}),
        row=1, col=2)


# Update xaxis properties
fig.update_xaxes(title_text="ìˆ˜ìµë¥ ", row=1, col=1)
fig.update_xaxes(title_text="ê±°ë˜ëŸ‰ ë¹„ìœ¨", row=1, col=2)

# Update yaxis properties
fig.update_yaxes(title_text="ë²”ì£¼", row=1, col=1)


fig.update_layout( height=350, width=750, template = 'plotly_white')

fig.show()
```  

![img1 daumcdn](https://user-images.githubusercontent.com/65170165/222937973-f6fe411a-6152-4ead-b09f-29c089569491.png)  

<br>  

  

<br>  
 

## ğŸ“¶ 07. êµ­ê°€ ë³„ ìˆ˜ìµë¥  ë° ê±°ë˜ ìˆ˜ëŸ‰ ë¹„ìœ¨ í™•ì¸  

<br>  


 
```py
# êµ­ê°€ ë³„ ìˆ˜ìµë¥  ë° ê±°ë˜ ìˆ˜ëŸ‰ ë¹„ìœ¨ í™•ì¸ì„ ìœ„í•œ ë°ì´í„° ì „ì²˜ë¦¬ 

d_ratio = d[['ë²”ì£¼', 'ìˆ˜ìµ', 'ìˆ˜ëŸ‰']].groupby('ë²”ì£¼').agg('sum')
df = pd.DataFrame(pd.DataFrame(d_ratio[['ìˆ˜ìµ', 'ìˆ˜ëŸ‰']]).agg('sum')).T
d_ratio = d_ratio.append(df).rename(index={0: "ì´í•©"}, inplace=False)
d_ratio['ìˆ˜ìµë¥ '] = d_ratio['ìˆ˜ìµ'] / d_ratio['ìˆ˜ìµ']['ì´í•©'] * 100
d_ratio['ê±°ë˜ëŸ‰ ë¹„ìœ¨'] = d_ratio['ìˆ˜ëŸ‰'] / d_ratio['ìˆ˜ëŸ‰']['ì´í•©'] * 100

d_per_nation = d[['êµ­ê°€/ì§€ì—­', 'ìˆ˜ìµ', 'ìˆ˜ëŸ‰']].
               rename(columns = {'êµ­ê°€/ì§€ì—­' : 'Nation'}, inplace=False).
               groupby('Nation').agg('sum')

d_per_nation['Income per Nation'] = d_per_nation['ìˆ˜ìµ']/d_ratio['ìˆ˜ìµ']['ì´í•©'] * 100
d_per_nation['Number of Transaction per Nation'] = d_per_nation['ìˆ˜ëŸ‰']/d_ratio['ìˆ˜ëŸ‰']['ì´í•©'] * 100
d_per_nation = d_per_nation.sort_values('Income per Nation', ascending = False)
d_per_nation.head()
```  
```
>>

 	      ìˆ˜ìµ	        ìˆ˜ëŸ‰	Income per Nation	Number of Transaction per Nation
Nation	 	 	 	 
China	      152230.575	7145	35.234124	        17.417483
India	      125103.285	5564	28.955449	        13.563454
Australia     103907.433	10673	24.049619	        26.017747
Japan	      24328.467	        996	5.630881	        2.427965
Bangladesh    19430.890	        680	4.497325	        1.657647
```  


<br>  

```py
# ì‹œê°í™”

fig = go.Figure()

fig.add_trace(
    go.Bar(
        x = d_per_nation.index, y = d_per_nation['Income per Nation'], 
        marker_color = 'seagreen', name = 'êµ­ê°€ ë³„ ìˆ˜ìµë¥ '),)

fig.add_trace(
    go.Bar(
        x = d_per_nation.index, 
        y = d_per_nation['Number of Transaction per Nation'],
        marker_color = '#b3e4c5', name = 'êµ­ê°€ ë³„ ê±°ë˜ ë¹„ìœ¨'),)

# Update xaxis properties
fig.update_xaxes(title_text="êµ­ê°€")


# Update yaxis properties
fig.update_yaxes(title_text="ë¹„ìœ¨ (%)")


fig.update_layout(title = "êµ­ê°€ ë³„ ìˆ˜ìµë¥  ë° ê±°ë˜ ë¹„ìœ¨ (%)", height=550, width=1120, 
                  template = 'plotly_white', 
                  xaxis = dict(tickfont_size = 18))

fig.show()
```  


 
![img1 daumcdn](https://user-images.githubusercontent.com/65170165/222937996-4ec1f2b2-9e84-4c10-a45b-a59312c7ed52.png)  

<br>  

  

<br>  

 

## ğŸ“¶ 08. ë²”ì£¼ ë³„ ë‹¨ì¼ êµ­ê°€ ë‚´ ìˆ˜ìµë¥  í™•ì¸  

<br>  


 
```py
# ë‹¨ì¼ êµ­ê°€ ë‚´ì—ì„œì˜ ìˆ˜ìµ êµ¬ì„±ì„ ë²”ì£¼ë³„ë¡œ íŒŒì•…í•˜ê¸° ìœ„í•œ ë°ì´í„° ì „ì²˜ë¦¬ 

d5 = d_heatmap.reset_index().groupby(['êµ­ê°€/ì§€ì—­']).
                             agg({'ìˆ˜ìµ':'sum', 'ìˆ˜ëŸ‰' : 'sum'}).
                             reset_index('êµ­ê°€/ì§€ì—­')
                             
d6 = d_heatmap.reset_index().groupby(['êµ­ê°€/ì§€ì—­', 'ë²”ì£¼']).
                             agg({'ìˆ˜ìµ':'sum', 'ìˆ˜ëŸ‰' : 'sum'}).
                             reset_index(['êµ­ê°€/ì§€ì—­','ë²”ì£¼'])


income = []
transaction = []

for j in d6['êµ­ê°€/ì§€ì—­']:
    for i in d5['êµ­ê°€/ì§€ì—­']:

        if i==j:
                income.append(d5[d5['êµ­ê°€/ì§€ì—­']==j]['ìˆ˜ìµ'].values[0])
                
                
for j in d6['êµ­ê°€/ì§€ì—­']:
    for i in d5['êµ­ê°€/ì§€ì—­']:

        if i==j:
                transaction.append(d5[d5['êµ­ê°€/ì§€ì—­']==j]['ìˆ˜ëŸ‰'].values[0])                
            
d6['income'] = income
d6['transaction'] = transaction
                      
d6['ë²”ì£¼ ë³„ ë‹¨ì¼ êµ­ê°€ ìˆ˜ìµë¥ '] = d6['ìˆ˜ìµ'] / d6['income'] * 100
d6['ë²”ì£¼ ë³„ ë‹¨ì¼ êµ­ê°€ ê±°ë˜ ìˆ˜ëŸ‰'] = d6['ìˆ˜ëŸ‰'] / d6['transaction'] * 100

d6 = d6.drop(['income', 'transaction'], axis = 1)
category_nation = d6
category_nation.head()
```  
```
>>

 	êµ­ê°€/ì§€ì—­	ë²”ì£¼	    ìˆ˜ìµ	ìˆ˜ëŸ‰	ë²”ì£¼ ë³„ ë‹¨ì¼ êµ­ê°€ ìˆ˜ìµë¥ 	ë²”ì£¼ ë³„ ë‹¨ì¼ êµ­ê°€ ê±°ë˜ ìˆ˜ëŸ‰
0	Afghanistan	ê°€êµ¬	    2797.890	43	51.240591	                18.859649
1	Afghanistan	ê¸°ìˆ 	    1536.720	52	28.143509	                22.807018
2	Afghanistan	ì‚¬ë¬´ìš©í’ˆ    1125.690	133	20.615900	                58.333333
3	Australia	ê°€êµ¬	    24698.838	2265	23.770040	                21.221775
4	Australia	ê¸°ìˆ 	    47727.504	2400	45.932714	                22.486649  
```  

<br>  

 
```py
# ì‹œê°í™”

fig = go.Figure()

fig.add_trace(
    go.Bar(
        x = category_nation[category_nation['ë²”ì£¼']=='ê°€êµ¬']['êµ­ê°€/ì§€ì—­'], 
        y = category_nation[category_nation['ë²”ì£¼']=='ê°€êµ¬']['ë²”ì£¼ ë³„ ë‹¨ì¼ êµ­ê°€ ë‚´ ìˆ˜ìµë¥ '], 
        marker_color = 'darkgreen', name = 'ê°€êµ¬'),)

fig.add_trace(
    go.Bar(
        x = category_nation[category_nation['ë²”ì£¼']=='ê¸°ìˆ ']['êµ­ê°€/ì§€ì—­'], 
        y = category_nation[category_nation['ë²”ì£¼']=='ê¸°ìˆ ']['ë²”ì£¼ ë³„ ë‹¨ì¼ êµ­ê°€ ë‚´ ìˆ˜ìµë¥ '], 
        marker_color = 'mediumseagreen', name = 'ê¸°ìˆ '),)

fig.add_trace(
    go.Bar(
        x = category_nation[category_nation['ë²”ì£¼']=='ì‚¬ë¬´ìš©í’ˆ']['êµ­ê°€/ì§€ì—­'],
        y = category_nation[category_nation['ë²”ì£¼']=='ì‚¬ë¬´ìš©í’ˆ']['ë²”ì£¼ ë³„ ë‹¨ì¼ êµ­ê°€ ë‚´ ìˆ˜ìµë¥ '], 
        marker_color = '#b3e4c5', name = 'ì‚¬ë¬´ìš©í’ˆ'),)



# Update xaxis properties
fig.update_xaxes(title_text="êµ­ê°€")


# Update yaxis properties
fig.update_yaxes(title_text="ë²”ì£¼ë³„ ìˆ˜ìµë¥ ")


fig.update_layout(title = "ë²”ì£¼ ë³„ ë‹¨ì¼ êµ­ê°€ ë‚´ ìˆ˜ìµë¥  (%)", 
                  barmode='relative', height=700, width=1150, 
                  template = 'plotly_white', 
                  xaxis = dict(tickfont_size = 18))

fig.show()
```  

![img1 daumcdn](https://user-images.githubusercontent.com/65170165/222938031-331eeeae-67d0-4b8f-92ba-e1e21a42ea55.png)  


<br>  

  

<br>  

 

## ğŸ“¶ 09. ë‹¨ì¼ êµ­ê°€ ë‚´ ë²”ì£¼ ë³„ ê±°ë˜ëŸ‰ ë¹„ìœ¨ í™•ì¸  

<br>  


 

ë°ì´í„°ëŠ” ì•ì„œ ì „ì²˜ë¦¬í•œ category_nation ë°ì´í„°ë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.  


 

í”„ë¡œê·¸ë˜ë° ë‹¹ì‹œì—ëŠ” ì›í•˜ëŠ” ì°¨íŠ¸ë¥¼ ë§Œë“¤ê¸°ê¹Œì§€ ìƒë‹¹íˆ ê¹Œë‹¤ë¡œì› ë˜ ê¸°ì–µì´ ë‚˜ëŠ”ë°, ì§€ê¸ˆ ë³´ë‹ˆ ì°¸ ê°„ë‹¨í•˜ë„¤ìš”,,, ğŸ˜¥  

<br>  

 
```py
# ì‹œê°í™”

fig = go.Figure()

fig.add_trace(
    go.Bar(
        x = category_nation[category_nation['ë²”ì£¼']=='ê°€êµ¬']['êµ­ê°€/ì§€ì—­'], 
        y = category_nation[category_nation['ë²”ì£¼']=='ê°€êµ¬']['ë²”ì£¼ ë³„ ë‹¨ì¼ êµ­ê°€ ë‚´ ê±°ë˜ ìˆ˜ëŸ‰'], 
        marker_color = 'darkgreen', name = 'ê°€êµ¬', 
        text = d6[d6['ë²”ì£¼']=='ê°€êµ¬']['ë²”ì£¼ ë³„ ë‹¨ì¼ êµ­ê°€ ë‚´ ê±°ë˜ ìˆ˜ëŸ‰'].round(1)),)

fig.add_trace(
    go.Bar(
        x = category_nation[category_nation['ë²”ì£¼']=='ê¸°ìˆ ']['êµ­ê°€/ì§€ì—­'], 
        y = category_nation[category_nation['ë²”ì£¼']=='ê¸°ìˆ ']['ë²”ì£¼ ë³„ ë‹¨ì¼ êµ­ê°€ ë‚´ ê±°ë˜ ìˆ˜ëŸ‰'],
        marker_color = 'mediumseagreen', name = 'ê¸°ìˆ ', 
        text = d6[d6['ë²”ì£¼']=='ê¸°ìˆ ']['ë²”ì£¼ ë³„ ë‹¨ì¼ êµ­ê°€ ë‚´ ê±°ë˜ ìˆ˜ëŸ‰'].round(1)),)

fig.add_trace(
    go.Bar(
        x = category_nation[category_nation['ë²”ì£¼']=='ì‚¬ë¬´ìš©í’ˆ']['êµ­ê°€/ì§€ì—­'],
        y = category_nation[category_nation['ë²”ì£¼']=='ì‚¬ë¬´ìš©í’ˆ']['ë²”ì£¼ ë³„ ë‹¨ì¼ êµ­ê°€ ë‚´ ê±°ë˜ ìˆ˜ëŸ‰'], 
        marker_color = '#b3e4c5', name = 'ì‚¬ë¬´ìš©í’ˆ', 
        text = d6[d6['ë²”ì£¼']=='ì‚¬ë¬´ìš©í’ˆ']['ë²”ì£¼ ë³„ ë‹¨ì¼ êµ­ê°€ ë‚´ ê±°ë˜ ìˆ˜ëŸ‰'].round(1)),)



# Update xaxis properties
fig.update_xaxes(title_text="êµ­ê°€")


# Update yaxis properties
fig.update_yaxes(title_text="ë²”ì£¼ë³„ ê±°ë˜ ìˆ˜ëŸ‰ ë¹„ìœ¨")


fig.update_layout(title = "ë²”ì£¼ ë³„ ë‹¨ì¼ êµ­ê°€ ë‚´ ê±°ë˜ ìˆ˜ëŸ‰ (%)", 
                  barmode='relative', height=750, width=1150, 
                  template = 'plotly_white', 
                  xaxis = dict(tickfont_size = 18))

fig.show()
```  

![img1 daumcdn](https://user-images.githubusercontent.com/65170165/222938039-9f5eccde-f70e-402a-badf-16013645a5d1.png)  

<br>  

  

<br>    



 

## ğŸ“¶ 10. 2020ë…„ ëŒ€ë¹„ 2021ë…„ ìˆ˜ìµ ìƒìŠ¹ë¥  ë° ê±°ë˜ëŸ‰ ìƒìŠ¹ë¥  í™•ì¸  

<br>  


 
```py
# 2020ë…„ê³¼ 2021ë…„ ê°ê°ì˜ ë…„ë„ë³„ ìˆ˜ì¹˜ë¥¼ ì¶”ì¶œí•¨
# ê° ìˆ˜ì¹˜ë¥¼ ë°”íƒ•ìœ¼ë¡œ ê¸°ì—…ì˜ ì„±ì¥ì„ íŒŒì•…

d8 = d[['ì£¼ë¬¸ ë‚ ì§œ', 'êµ­ê°€/ì§€ì—­', 'ìˆ˜ìµ', 'ìˆ˜ëŸ‰']]
d8['ì£¼ë¬¸ ë‚ ì§œ'] = pd.to_datetime(d8['ì£¼ë¬¸ ë‚ ì§œ'])
d8['year'] = pd.DatetimeIndex(d8['ì£¼ë¬¸ ë‚ ì§œ']).year
d8['year'] = d8['year'].astype('str')

d8 = d8.groupby(['year', 'êµ­ê°€/ì§€ì—­']).agg({'ìˆ˜ìµ':'sum', 'ìˆ˜ëŸ‰' : 'sum'}).reset_index()
d9 = d8[d8['year']=='2020']
d10 = d8[d8['year']=='2021']

d_2020_2021 = pd.merge(d9,d10, on = 'êµ­ê°€/ì§€ì—­', how = 'inner')
d_2020_2021['increase_rate_income'] = d_2020_2021['ìˆ˜ìµ_y'] / d_2020_2021['ìˆ˜ìµ_x'] * 100
d_2020_2021['increase_rate_transaction'] = d_2020_2021['ìˆ˜ëŸ‰_y'] / d_2020_2021['ìˆ˜ëŸ‰_x'] * 100
d_2020_2021 = d_2020_2021.sort_values('increase_rate_income', ascending = False)
d_2020_2021 = d_2020_2021[d_2020_2021['ìˆ˜ìµ_x'] > 0]

d_2020_2021.head()
```  

```
>>

 	year_x	êµ­ê°€/ì§€ì—­	ìˆ˜ìµ_x	        ìˆ˜ëŸ‰_x	year_y	ìˆ˜ìµ_y	        ìˆ˜ëŸ‰_y	increase_rate_income	increase_rate_transaction
6	2020	Indonesia	860.3331	1330	2021	10560.681	1896	1227.510716	        142.556391
3	2020	Cambodia	755.7300	37	2021	2660.250	69	352.010639	        186.486486
8	2020	Malaysia	3243.9300	92	2021	5980.260	324	184.352313	        352.173913
0	2020	Afghanistan	1148.9400	45	2021	2093.280	76	182.192282	        168.888889
7	2020	Japan	        5395.1220	329	2021	9294.870	322	172.282851	        97.872340
```  

 

ìœ„ ë°ì´í„°í”„ë ˆì„ì—ì„œ xëŠ” 2020ë…„ë„ì˜ ì •ë³´ë¥¼, yëŠ” 2021ë…„ë„ì˜ ì •ë³´ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.  

<br>  

 
```py
# ì‹œê°í™”

fig = make_subplots(rows=1, cols=2,
                   subplot_titles=("2020ë…„ ëŒ€ë¹„ 2021ë…„ ìˆ˜ìµ ìƒìŠ¹ë¥ _ ìƒìœ„5 / í•˜ìœ„ 3ê°œêµ­", 
                   "2020ë…„ ëŒ€ë¹„ 2021ë…„ ê±°ë˜ëŸ‰ ìƒìŠ¹ë¥ _ ìƒìœ„5 / í•˜ìœ„ 3ê°œêµ­"))

fig.add_trace(
    go.Bar(
        y = d_2020_2021[-3:]['êµ­ê°€/ì§€ì—­'], 
        x = d_2020_2021[-3:]['increase_rate_income'],
        
        marker_color = '#b3e4c5', orientation='h', name = 'ìˆ˜ìµë¥ _í•˜ìœ„ 3ê°œêµ­', 
        
        text = d_2020_2021[-3:]['increase_rate_income'].round(1), 
        textfont = {'color' : 'black'}),
        row=1, col=1)

fig.add_trace(
    go.Bar(
        y = d_2020_2021[:5].
            sort_values('increase_rate_income', ascending = True)['êµ­ê°€/ì§€ì—­'], 
        x = d_2020_2021[:5].
            sort_values('increase_rate_income', ascending = True)['increase_rate_income'], 
            
        marker_color = 'mediumseagreen', orientation='h', name = 'ìˆ˜ìµë¥ _ìƒìœ„ 5ê°œêµ­',
        
        text = d_2020_2021[:5].
               sort_values('increase_rate_income', ascending = True)['increase_rate_income'].
               round(1)),
        row=1, col=1)


fig.add_trace(
    go.Bar(
        y = d_2020_2021.
            sort_values('increase_rate_transaction', ascending = False)
            [-3:]['êµ­ê°€/ì§€ì—­'], 
        x = d_2020_2021.
            sort_values('increase_rate_transaction', ascending = False)
            [-3:]['increase_rate_transaction'], 
            
        marker_color = '#53BF95', orientation='h', name = 'ê±°ë˜ëŸ‰ ë¹„ìœ¨_í•˜ìœ„ 3ê°œêµ­',
        
        text = d_2020_2021.
               sort_values('increase_rate_transaction', ascending = False)
               [-3:]['increase_rate_transaction'].
               round(1), 
        textfont = {'color' : 'black'}),
        row=1, col=2)


fig.add_trace(
    go.Bar(
        y = d_2020_2021.
            sort_values('increase_rate_transaction', ascending = False)
            [:5]['êµ­ê°€/ì§€ì—­'],
        x = d_2020_2021.
            sort_values('increase_rate_transaction', ascending = False)
            [:5]['increase_rate_transaction'], 
            
        marker_color = 'seagreen', orientation='h', name = 'ê±°ë˜ëŸ‰ ë¹„ìœ¨_ìƒìœ„ 5ê°œêµ­',
        
        text = d_2020_2021.
               sort_values('increase_rate_transaction', ascending = False)
               [:5]['increase_rate_transaction'].
               round(1), 
        textfont = {'color' : 'white'}),
        row=1, col=2)



# Update xaxis properties
fig.update_xaxes(title_text="ìˆ˜ìµ ìƒìŠ¹ë¥ ", row=1, col=1)
fig.update_xaxes(title_text="ê±°ë˜ëŸ‰ ìƒìŠ¹ë¥ ", row=1, col=2)

# Update yaxis properties
fig.update_yaxes(title_text="êµ­ê°€", row=1, col=1)


fig.update_layout( height=400, width=1500, template = 'plotly_white')

fig.show()  
```  

![img1 daumcdn](https://user-images.githubusercontent.com/65170165/222938090-bccf5ba3-9399-4812-85b8-96e7bcc95f4d.png)  

<br>  


 

 

ìœ„ì˜ ì°¨íŠ¸ì—ì„œ ì¸ë„ë„¤ì‹œì•„ëŠ” ì „ë…„ë„ ëŒ€ë¹„ 12ë°°ì— ë‹¬í•˜ëŠ” ì¢‹ì€ ìˆ˜ìµ ìƒìŠ¹ë¥ ì„ ë³´ì—¬ì£¼ì—ˆìŠµë‹ˆë‹¤.  


ë‹¤ë§Œ ë¯¸ì–€ë§ˆì™€  íƒœêµ­ì˜ ê²½ìš° ê°ê° 5ìœ„ì™€ 4ìœ„ì˜ ê±°ë˜ëŸ‰ ìƒìŠ¹ë¥ ì„ ë³´ì—¬ì£¼ì—ˆìœ¼ë‚˜ ìˆ˜ìµë¥ ì€ í° í­ìœ¼ë¡œ ê°ì†Œí–ˆìŠµë‹ˆë‹¤.  


 

ì´ëŠ” ìœ„ ì„¸ êµ­ê°€ì˜ ê±°ë˜ ì œí’ˆ ë²”ì£¼ ì¢…ë¥˜ì˜ ì°¨ì´ì— ì˜í•œ ì˜í–¥ ë•Œë¬¸ì¼ ê²ƒì´ë¼ ìƒê°í•˜ì˜€ìŠµë‹ˆë‹¤.  


ë”°ë¼ì„œ, ìœ„ ì„¸ êµ­ê°€ì˜ ë²”ì£¼ ë³„ ê±°ë˜ëŸ‰ì„ í™•ì¸í•´ë³´ì•˜ìŠµë‹ˆë‹¤.  

<br>  

  

<br>  
 

 

## ğŸ“¶ 11. ì¸ë„ë„¤ì‹œì•„ / ë¯¸ì–€ë§ˆ / íƒœêµ­ ê¸°ìˆ  ì œí’ˆ í•˜ìœ„ ë²”ì£¼ ë³„ ê±°ë˜ëŸ‰ í™•ì¸  

<br>  


 

ğŸ“Œ ê° ë²”ì£¼ì— ëŒ€í•œ ê±°ë˜ëŸ‰ í™•ì¸  

<br>  

 

 

â˜‘ï¸ ì¸ë„ë„¤ì‹œì•„  

```py
Indonesia = d[d['êµ­ê°€/ì§€ì—­'] == 'Indonesia'][['ì£¼ë¬¸ ë‚ ì§œ', 'ë²”ì£¼', 'ìˆ˜ëŸ‰']]
Indonesia['ì£¼ë¬¸ ë‚ ì§œ'] = pd.to_datetime(Indonesia['ì£¼ë¬¸ ë‚ ì§œ'])
Indonesia['year'] = pd.DatetimeIndex(Indonesia['ì£¼ë¬¸ ë‚ ì§œ']).year
Indonesia['year'] = Indonesia['year'].astype('str')

Indonesia_2 = Indonesia.groupby(['year', 'ë²”ì£¼']).agg('sum').loc['2021', ].reset_index()
Indonesia_1 = Indonesia.groupby(['year', 'ë²”ì£¼']).agg('sum').loc['2020', ].reset_index()
pd.merge(Indonesia_1, Indonesia_2, on = 'ë²”ì£¼', how = 'outer')
```  
```
>>

 	ë²”ì£¼	    ìˆ˜ëŸ‰_x      ìˆ˜ëŸ‰_y
0	ê°€êµ¬	    306	        368
1	ê¸°ìˆ 	    256	        337
2	ì‚¬ë¬´ìš©í’ˆ    768	        1191
```  

 

ìœ„ ë°ì´í„°í”„ë ˆì„ì—ì„œ xëŠ” 2020ë…„ë„ì˜ ì •ë³´ë¥¼, yëŠ” 2021ë…„ë„ì˜ ì •ë³´ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.  

<br>  

 

 

â˜‘ï¸ ë¯¸ì–€ë§ˆ  

```py
Myanmar = d[d['êµ­ê°€/ì§€ì—­'] == 'Myanmar (Burma)'][['ì£¼ë¬¸ ë‚ ì§œ', 'ë²”ì£¼', 'ìˆ˜ëŸ‰']]
Myanmar['ì£¼ë¬¸ ë‚ ì§œ'] = pd.to_datetime(Myanmar['ì£¼ë¬¸ ë‚ ì§œ'])
Myanmar['year'] = pd.DatetimeIndex(Myanmar['ì£¼ë¬¸ ë‚ ì§œ']).year
Myanmar['year'] = Myanmar['year'].astype('str')

Myanmar_2 = Myanmar.groupby(['year', 'ë²”ì£¼']).agg('sum').loc['2021', ].reset_index()
Myanmar_1 = Myanmar.groupby(['year', 'ë²”ì£¼']).agg('sum').loc['2020', ].reset_index()
pd.merge(Myanmar_1, Myanmar_2, on = 'ë²”ì£¼', how = 'outer')
```   
```
>>

 	ë²”ì£¼	    ìˆ˜ëŸ‰_x      ìˆ˜ëŸ‰_y
0	ê°€êµ¬	    25	        91
1	ê¸°ìˆ 	    20	        51
2	ì‚¬ë¬´ìš©í’ˆ    87	        97
```    


 

ìœ„ ë°ì´í„°í”„ë ˆì„ì—ì„œ xëŠ” 2020ë…„ë„ì˜ ì •ë³´ë¥¼, yëŠ” 2021ë…„ë„ì˜ ì •ë³´ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.  

<br>  

 

â˜‘ï¸ íƒœêµ­  

```py
Thailand = d[d['êµ­ê°€/ì§€ì—­'] == 'Thailand'][['ì£¼ë¬¸ ë‚ ì§œ', 'ë²”ì£¼', 'ìˆ˜ëŸ‰']]
Thailand['ì£¼ë¬¸ ë‚ ì§œ'] = pd.to_datetime(Thailand['ì£¼ë¬¸ ë‚ ì§œ'])
Thailand['year'] = pd.DatetimeIndex(Thailand['ì£¼ë¬¸ ë‚ ì§œ']).year
Thailand['year'] = Thailand['year'].astype('str')

Thailand_2 = Thailand.groupby(['year', 'ë²”ì£¼']).agg('sum').loc['2021', ].reset_index()
Thailand_1 = Thailand.groupby(['year', 'ë²”ì£¼']).agg('sum').loc['2020', ].reset_index()
pd.merge(Thailand_1, Thailand_2, on = 'ë²”ì£¼', how = 'outer')  
```  
```
>>

 	ë²”ì£¼	    ìˆ˜ëŸ‰_x      ìˆ˜ëŸ‰_y
0	ê°€êµ¬	    44	        109
1	ê¸°ìˆ 	    38	        84
2	ì‚¬ë¬´ìš©í’ˆ    149	        227
```  



ìœ„ ë°ì´í„°í”„ë ˆì„ì—ì„œ xëŠ” 2020ë…„ë„ì˜ ì •ë³´ë¥¼, yëŠ” 2021ë…„ë„ì˜ ì •ë³´ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.  

<br>  

 

 

 

ì„¸ êµ­ê°€ì˜ ìˆ˜ì¹˜ ë¹„êµ ê²°ê³¼, ìš°ì„  ì „ì²´ ê±°ë˜ëŸ‰ì€ ì¸ë„ë„¤ì‹œì•„ê°€ ì›”ë“±íˆ ë§ì•˜ìŠµë‹ˆë‹¤.  


 

ê·¸ ì™¸ì— ëˆˆì— ë³´ì´ëŠ” ê°€ì¥ í° ì°¨ì´ì ì€ ì¸ë„ë„¤ì‹œì•„ ëŒ€ë¹„ ë‘ êµ­ê°€ì˜ ê°€êµ¬ ê±°ë˜ëŸ‰ì´ ì¦ê°€í•˜ì˜€ë‹¤ëŠ” ì ì´ë©°, ì¸ë„ë„¤ì‹œì•„ì˜ ê²½ìš° ê¸°ìˆ  ì œí’ˆêµ°ì˜ ê±°ë˜ê°€ ê¸‰ì¦í•˜ì˜€ìŠµë‹ˆë‹¤. ë˜í•œ ì‚¬ë¬´ìš©í’ˆ ê±°ë˜ëŸ‰ ì—­ì‹œ ì¦ê°€í•˜ì˜€ëŠ”ë°, 06. ë²”ì£¼ ë³„ ìˆ˜ìµë¥  ë° ê±°ë˜ëŸ‰ ë¹„ìœ¨ í™•ì¸ ì°¨íŠ¸ì—ì„œ ë³´ì•˜ë“¯ì´ ì‚¬ë¬´ìš©í’ˆì€ íƒ€ ì œí’ˆêµ° ëŒ€ë¹„ ìˆ˜ìµì„±ì´ ì¢‹ì€ ì œí’ˆì€ ì•„ë‹™ë‹ˆë‹¤. ê·¸ëŸ¼ì—ë„ ì¸ë„ë„¤ì‹œì•„ì˜ ìˆ˜ìµì„±ì´ êµ‰ì¥íˆ í¬ê²Œ ì„±ì¥í•˜ì˜€ë‹¤ëŠ” ì ì—ì„œ, ìš°ì„ ì ìœ¼ë¡œ ì „ì²´ ê±°ë˜ëŸ‰ì´ ë§ì€ ê²½ìš° ì „ë°˜ì ìœ¼ë¡œ ì¢‹ì€ ì´ìµì„ ë³¼ ìˆ˜ ìˆìŒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë°˜ë©´ ê°€êµ¬ì˜ ê²½ìš° ê±°ë˜ëŸ‰ì´ ì¦ê°€í•˜ë”ë¼ë„ ìˆ˜ìµì„±ì´ ê¸°ìˆ  ì œí’ˆêµ°ì— ë¹„í•´ ë‚®ê¸° ë•Œë¬¸ì—, ê¸°ìˆ  ì œí’ˆêµ°ì˜ ê±°ë˜ì— ì£¼ì•ˆì ì„ ë‘ê³  ë¶„ì„í•  í•„ìš”ê°€ ìˆì–´ ë³´ì…ë‹ˆë‹¤.  

<br>  

  

<br>  

***  

<br>   

 
ğŸ“Œ ê¸°ìˆ  ë²”ì£¼ì˜ í•˜ìœ„ ë²”ì£¼ì— ëŒ€í•œ ê±°ë˜ëŸ‰ í™•ì¸  

<br>  
 



 

â˜‘ï¸ ì¸ë„ë„¤ì‹œì•„  

```py
Indonesia = d[d['êµ­ê°€/ì§€ì—­'] == 'Indonesia'][['ì£¼ë¬¸ ë‚ ì§œ', 'ë²”ì£¼', 'ìˆ˜ëŸ‰', 'í•˜ìœ„ ë²”ì£¼']]
Indonesia = Indonesia[Indonesia['ë²”ì£¼'] == 'ê¸°ìˆ ']
Indonesia['ì£¼ë¬¸ ë‚ ì§œ'] = pd.to_datetime(Indonesia['ì£¼ë¬¸ ë‚ ì§œ'])
Indonesia['year'] = pd.DatetimeIndex(Indonesia['ì£¼ë¬¸ ë‚ ì§œ']).year
Indonesia['year'] = Indonesia['year'].astype('str')

Indonesia_2 = Indonesia.groupby(['year', 'ë²”ì£¼', 'í•˜ìœ„ ë²”ì£¼']).agg('sum').loc['2021', ].reset_index()
Indonesia_1 = Indonesia.groupby(['year', 'ë²”ì£¼', 'í•˜ìœ„ ë²”ì£¼']).agg('sum').loc['2020', ].reset_index()
pd.merge(Indonesia_1, Indonesia_2, on = 'í•˜ìœ„ ë²”ì£¼', how = 'outer')
```
```
>>

 	ë²”ì£¼_x	í•˜ìœ„ ë²”ì£¼	ìˆ˜ëŸ‰_x	ë²”ì£¼_y	ìˆ˜ëŸ‰_y
0	ê¸°ìˆ 	ë³µì‚¬ê¸°	        78	ê¸°ìˆ 	109
1	ê¸°ìˆ 	ì‚¬ë¬´ê¸°ê¸°	33	ê¸°ìˆ 	41
2	ê¸°ìˆ 	ì•¡ì„¸ì„œë¦¬	52	ê¸°ìˆ 	110
3	ê¸°ìˆ 	ì „í™”ê¸°	        93	ê¸°ìˆ 	77
```  


ìœ„ ë°ì´í„°í”„ë ˆì„ì—ì„œ xëŠ” 2020ë…„ë„ì˜ ì •ë³´ë¥¼, yëŠ” 2021ë…„ë„ì˜ ì •ë³´ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.  

<br>  

 

 

â˜‘ï¸ ë¯¸ì–€ë§ˆ  

```py
Myanmar = d[d['êµ­ê°€/ì§€ì—­'] == 'Myanmar (Burma)'][['ì£¼ë¬¸ ë‚ ì§œ', 'ë²”ì£¼', 'ìˆ˜ëŸ‰', 'í•˜ìœ„ ë²”ì£¼']]
Myanmar = Myanmar[Myanmar['ë²”ì£¼'] == 'ê¸°ìˆ ']
Myanmar['ì£¼ë¬¸ ë‚ ì§œ'] = pd.to_datetime(Myanmar['ì£¼ë¬¸ ë‚ ì§œ'])
Myanmar['year'] = pd.DatetimeIndex(Myanmar['ì£¼ë¬¸ ë‚ ì§œ']).year
Myanmar['year'] = Myanmar['year'].astype('str')

Myanmar_2 = Myanmar.groupby(['year', 'ë²”ì£¼', 'í•˜ìœ„ ë²”ì£¼']).agg('sum').loc['2021', ].reset_index()
Myanmar_1 = Myanmar.groupby(['year', 'ë²”ì£¼', 'í•˜ìœ„ ë²”ì£¼']).agg('sum').loc['2020', ].reset_index()
pd.merge(Myanmar_1, Myanmar_2, on = 'í•˜ìœ„ ë²”ì£¼', how = 'outer')
```  
```
>>

 	ë²”ì£¼_x	í•˜ìœ„ ë²”ì£¼	ìˆ˜ëŸ‰_x	ë²”ì£¼_y	ìˆ˜ëŸ‰_y
0	ê¸°ìˆ 	ë³µì‚¬ê¸°	        6	ê¸°ìˆ 	14
1	ê¸°ìˆ 	ì‚¬ë¬´ê¸°ê¸°	14	ê¸°ìˆ 	16
2	NaN	ì•¡ì„¸ì„œë¦¬	NaN	ê¸°ìˆ 	13
3	NaN	ì „í™”ê¸°	        NaN	ê¸°ìˆ 	8
```  


 

ìœ„ ë°ì´í„°í”„ë ˆì„ì—ì„œ xëŠ” 2020ë…„ë„ì˜ ì •ë³´ë¥¼, yëŠ” 2021ë…„ë„ì˜ ì •ë³´ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.  

<br>  

 

â˜‘ï¸ íƒœêµ­  

```py
Thailand = d[d['êµ­ê°€/ì§€ì—­'] == 'Thailand'][['ì£¼ë¬¸ ë‚ ì§œ', 'ë²”ì£¼', 'ìˆ˜ëŸ‰', 'í•˜ìœ„ ë²”ì£¼']]
Thailand = Thailand[Thailand['ë²”ì£¼'] == 'ê¸°ìˆ ']
Thailand['ì£¼ë¬¸ ë‚ ì§œ'] = pd.to_datetime(Thailand['ì£¼ë¬¸ ë‚ ì§œ'])
Thailand['year'] = pd.DatetimeIndex(Thailand['ì£¼ë¬¸ ë‚ ì§œ']).year
Thailand['year'] = Thailand['year'].astype('str')

Thailand_2 = Thailand.groupby(['year', 'ë²”ì£¼', 'í•˜ìœ„ ë²”ì£¼']).agg('sum').loc['2021', ].reset_index()
Thailand_1 = Thailand.groupby(['year', 'ë²”ì£¼', 'í•˜ìœ„ ë²”ì£¼']).agg('sum').loc['2020', ].reset_index()
pd.merge(Thailand_1, Thailand_2, on = 'í•˜ìœ„ ë²”ì£¼', how = 'outer')  
```  
```
>>

 	ë²”ì£¼_x	í•˜ìœ„ ë²”ì£¼	ìˆ˜ëŸ‰_x	ë²”ì£¼_y	ìˆ˜ëŸ‰_y
0	ê¸°ìˆ 	ë³µì‚¬ê¸°	        6	ê¸°ìˆ 	13
1	ê¸°ìˆ 	ì‚¬ë¬´ê¸°ê¸°	8	ê¸°ìˆ 	12
2	ê¸°ìˆ 	ì•¡ì„¸ì„œë¦¬	2	ê¸°ìˆ 	40
3	ê¸°ìˆ 	ì „í™”ê¸°	        22	ê¸°ìˆ 	19
```  


 

ìœ„ ë°ì´í„°í”„ë ˆì„ì—ì„œ xëŠ” 2020ë…„ë„ì˜ ì •ë³´ë¥¼, yëŠ” 2021ë…„ë„ì˜ ì •ë³´ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.  

<br>  

 

 

ì¸ë„ë„¤ì‹œì•„ì˜ ê²½ìš° ë³µì‚¬ê¸°ì™€ ì•…ì„¸ì„œë¦¬ì˜ ê±°ë˜ëŸ‰ì´ í¬ê²Œ ì¦ê°€í•˜ì˜€ìŠµë‹ˆë‹¤.  


 

ë°˜ë©´ ì•¡ì„¸ì„œë¦¬ê°€ í¬ê²Œ ê¸‰ì¦í•œ íƒœêµ­ê³¼ ì‚¬ë¬´ê¸°ê¸°ì˜ ê±°ë˜ ì¦ê°€ëŸ‰ì´ ì¸ë„ë„¤ì‹œì•„ì™€ ë™ì¼í•œ ë¯¸ì–€ë§ˆì™€ì˜ ê±°ë˜ëŠ” ê¸°ì—…ì— ì¢‹ì€ ì˜í–¥ì„ ê°€ì ¸ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ë¬¼ë¡  ì „ì²´ ê±°ë˜ëŸ‰ì´ ì›”ë“±í•œ ì°¨ì´ê°€ ë‚˜ëŠ” ì„¸ êµ­ê°€ ê°„ì˜ ë¹„êµì´ê¸° ë•Œë¬¸ì— ê¸°ì¡´ ì¶œë°œì„ ì´ ë‹¤ë¥¸ ì ë„ ìˆê² ì§€ë§Œ, ë³µì‚¬ê¸°ì™€ ì‚¬ë¬´ê¸°ê¸°ì˜ ê±°ë˜ëŸ‰ì´ ì¶©ë¶„í•œ ê²½ìš° ì¢‹ì€ ì´ìµì„ ê¸°ëŒ€í•  ìˆ˜ ìˆëŠ” ê²ƒì€ ë¶„ëª…í•´ ë³´ì…ë‹ˆë‹¤.  

<br>  

***  
